{"version":3,"file":"unload.es.js","sources":["../../../source/Plugin/Unload/Unload.js"],"sourcesContent":["import videojs from 'video.js';\n\nlet unloaded = false;\n\nfunction middleware(player) {\n  return {\n    callPlay() {\n      return unloaded && videojs.middleware.TERMINATOR;\n    }\n  };\n}\n\nfunction reset() {\n  unloaded = false;\n  this.tech_.show();\n}\n\nfunction unload(options = {}) {\n  unloaded = true;\n\n  this.pause();\n  this.tech_.hide();\n  this.off('loadstart', reset);\n  this.on('loadstart', reset);\n\n  if (options.loading) {\n    this.addClass('vjs-seeking');\n  }\n}\n\nvideojs.use('*', middleware);\nvideojs.registerPlugin('unload', unload);\n"],"names":["unloaded","middleware","player","callPlay","videojs","TERMINATOR","reset","tech_","show","unload","options","pause","hide","off","on","loading","addClass","use","registerPlugin"],"mappings":";;;;AAEA,IAAIA,QAAQ,GAAG,KAAf,CAAA;;AAEA,SAASC,UAAT,CAAoBC,MAApB,EAA4B;AAC1B,EAAO,OAAA;AACLC,IAAAA,QADK,EACM,SAAA,QAAA,GAAA;AACT,MAAA,OAAOH,QAAQ,IAAII,OAAO,CAACH,UAAR,CAAmBI,UAAtC,CAAA;AACD,KAAA;AAHI,GAAP,CAAA;AAKD,CAAA;;AAED,SAASC,KAAT,GAAiB;AACfN,EAAAA,QAAQ,GAAG,KAAX,CAAA;AACA,EAAKO,IAAAA,CAAAA,KAAL,CAAWC,IAAX,EAAA,CAAA;AACD,CAAA;;AAED,SAASC,MAAT,CAAgBC,OAAhB,EAA8B;AAAA,EAAA,IAAdA,OAAc,KAAA,KAAA,CAAA,EAAA;AAAdA,IAAAA,OAAc,GAAJ,EAAI,CAAA;AAAA,GAAA;;AAC5BV,EAAAA,QAAQ,GAAG,IAAX,CAAA;AAEA,EAAA,IAAA,CAAKW,KAAL,EAAA,CAAA;AACA,EAAKJ,IAAAA,CAAAA,KAAL,CAAWK,IAAX,EAAA,CAAA;AACA,EAAA,IAAA,CAAKC,GAAL,CAAS,WAAT,EAAsBP,KAAtB,CAAA,CAAA;AACA,EAAA,IAAA,CAAKQ,EAAL,CAAQ,WAAR,EAAqBR,KAArB,CAAA,CAAA;;AAEA,EAAII,IAAAA,OAAO,CAACK,OAAZ,EAAqB;AACnB,IAAKC,IAAAA,CAAAA,QAAL,CAAc,aAAd,CAAA,CAAA;AACD,GAAA;AACF,CAAA;;AAEDZ,OAAO,CAACa,GAAR,CAAY,GAAZ,EAAiBhB,UAAjB,CAAA,CAAA;AACAG,OAAO,CAACc,cAAR,CAAuB,QAAvB,EAAiCT,MAAjC,CAAA"}