{"version":3,"file":"videojs-plus-plus.es.js","sources":["../source/Utils/FindChild.js","../source/Utils/GetDuration.js","../source/Player/Player.js","../source/Components/ControlBar/ControlBar.Mobile.js","../source/Components/ControlBar/Progress/TimeTooltip.js","../source/Components/ControlBar/Progress/ProgressBarPadding.js","../source/Utils/Clamp.js","../source/Components/ControlBar/Progress/Progress.js","../source/Components/ControlBar/ControlBar.js","../source/Components/Title/Title.js","../source/Components/PlayToggleLayer/PlayToggleLayer.js","../source/Components/ContextMenu/Item/ContextMenuItem.js","../source/Components/ContextMenu/Item/ContextMenuToggleLoop.js","../source/Components/ContextMenu/Item/AboutThisPlayer.js","../source/Components/ContextMenu/CloseContextMenu.js","../source/Components/ContextMenu/ContextMenu.js","../source/Components/SettingMenu/CloseSettingMenu.js","../source/Components/SettingMenu/SettingMenu.js","../source/Components/SettingMenu/Item/SettingMenuItem.js","../source/Components/SettingMenu/Item/SettingOnOffItem.js","../source/Components/SettingMenu/Item/SettingSubOptionTitle.js","../source/Components/SettingMenu/Item/SettingSubOptionItem.js","../source/Components/SettingMenu/Item/SettingOptionItem.js","../source/Utils/Log.js","../source/Components/SettingMenu/PlaybackRate/PlaybackRateSettingItem.js","../source/Components/SettingMenu/SettingMenuButton.js"],"sourcesContent":["import videojs from 'video.js';\n\nfunction findChild(parent, name, result) {\n  const children = [];\n\n  if (parent && parent.childIndex_ && Object.keys(parent.childIndex_).length) {\n    for (let componentId in parent.childIndex_) {\n      const component = parent.childIndex_[componentId];\n\n      if (component && component.name_ == name) {\n        result.push({\n          parent,\n          component,\n          index: parent.children_.indexOf(component),\n          [name]: component\n        });\n      }\n\n      children.push(findChild(component, name, result));\n    }\n  }\n\n  return {\n    name,\n    parent,\n    children\n  };\n}\n\nvideojs.getComponent('Component').prototype.findChild = function (name) {\n  const result = [];\n\n  findChild(this, name, result);\n\n  return result;\n};\n","import videojs from 'video.js';\n\nclass getDuration extends videojs.getPlugin('plugin') {\n  constructor(player, options) {\n    super(player, options);\n  }\n\n  value() {\n    const duration = this.player.duration();\n    \n    return duration === Infinity ? this.player.liveTracker.liveCurrentTime() : duration;\n  }\n}\n\nvideojs.registerPlugin('getDuration', getDuration);\n","import videojs from 'video.js';\nimport './Player.scss';\n\nconst { IS_IPHONE, IOS_VERSION } = videojs.browser;\n\nvideojs.hook('setup', vjsPlayer => {\n  vjsPlayer.playsinline(vjsPlayer.options_.playsinline !== false);\n\n  vjsPlayer.addClass('video-js');\n\n  if (IS_IPHONE) {\n    vjsPlayer.addClass('vjs-is-iphone');\n    if (IOS_VERSION < 11) {\n      vjsPlayer.addClass('vjs-iphone-below-11');\n    }\n  }\n});\n","import videojs from 'video.js';\n\nimport './ControlBar.Mobile.scss';\n\nconst Component = videojs.getComponent('Component');\nconst ControlBar = videojs.getComponent('ControlBar');\n\nclass ControlSeparator extends Component {\n  constructor(player, options) {\n    super(player, options);\n    this.addClass('vjs-control-separator');\n    this.addClass(options.className || '');\n  }\n}\n\nvideojs.registerComponent('ControlSeparator', ControlSeparator);\n\nvideojs.hook('beforesetup', (_, options) => {\n  const children = ControlBar.prototype.options_.children.slice(0);\n  const index = children.indexOf('CustomControlSpacer');\n\n  if (index > -1) {\n    ControlBar.prototype.options_.children = [\n      {\n        name: 'ControlSeparator',\n        className: 'top',\n        children: []\n      },\n      {\n        name: 'ControlSeparator',\n        className: 'middle',\n        children: children.splice(0, index + 1)\n      },\n      {\n        name: 'ControlSeparator',\n        className: 'bottom',\n        children: children\n      }\n    ];\n  }\n\n  return options;\n});\n\n// prevent control bar immediately shown\nvideojs.hook('setup', vjsPlayer => {\n  const enableMobileView = vjsPlayer.options_.mobileView !== false;\n\n  const matchDimension = value => {\n    return window.matchMedia\n      ? window.matchMedia(`(max-width: ${value}px)`).matches\n      : window.innerWidth <= value;\n  };\n\n  if (matchDimension(480) && enableMobileView) {\n    // Prevent control bar shown immediately after playing\n    vjsPlayer.controlBar.hide();\n    vjsPlayer.one('playing', () => {\n      // Show control bar after `userinactive` (depends on `inactivityTimeout`) or user action\n      const events = ['mouseover', 'userinactive', 'touchstart'];\n\n      vjsPlayer.one(events, function callback() {\n        vjsPlayer.off(events, callback);\n        vjsPlayer.controlBar.show();\n      });\n\n      // If player do not autoplay start,\n      // the first click to play action cause player inactive ( maybe a bug of videojs )\n      // Then clcik on the player before `inactivityTimeout`, the control bar will no shown as the player still inactive\n      // So we need to make sure player is active after second click\n      vjsPlayer.one('touchend', () => {\n        vjsPlayer.userActive(true);\n      });\n    });\n\n    vjsPlayer.addClass('vjs-mobile-view');\n  }\n});\n","import videojs from 'video.js';\n\nconst Dom = videojs.dom;\nconst TimeTooltip = videojs.getComponent('TimeTooltip');\n\n// https://github.com/Ami-OS/video.js/blob/65750e311661e70f170e3652573caacf6f21fcce/src/js/control-bar/progress-control/time-tooltip.js#L54-L133\nTimeTooltip.prototype.update = function update(seekBarRect, seekBarPoint, content) {\n  const tooltipRect = Dom.getBoundingClientRect(this.el_);\n  const playerRect = Dom.getBoundingClientRect(this.player_.el());\n  const seekBarPointPx = seekBarRect.width * seekBarPoint;\n\n  // do nothing if either rect isn't available\n  // for example, if the player isn't in the DOM for testing\n  if (!playerRect || !tooltipRect) {\n    return;\n  }\n\n  // This is the space right of the `seekBarPoint` in the `SeekBar`\n  let spaceRightOfPoint = seekBarRect.width - seekBarPointPx;\n\n  // This is the space left of the `seekBarPoint` in the `SeekBar`\n  let spaceLeftOfPoint = seekBarRect.width - spaceRightOfPoint;\n\n  // This is the number of pixels by which the tooltip will need to be pulled\n  // further to the right to center it over the `seekBarPoint`.\n  let pullTooltipBy = tooltipRect.width / 2;\n\n  // The center of `seekBar`\n  const centerPosition = seekBarRect.width / 2;\n\n  // Offset value of the `centerPosition`\n  const centerOffsetOfPoint = centerPosition - seekBarPointPx;\n\n  // If `tooltipRect` is greater than `seekBarRect` then center the tooltip,\n  // else patch the offset value of the tooltip overflow space.\n  if (tooltipRect.width > seekBarRect.width) {\n    pullTooltipBy += centerOffsetOfPoint;\n  } else if (spaceLeftOfPoint < pullTooltipBy) {\n    pullTooltipBy += pullTooltipBy - spaceLeftOfPoint;\n  } else if (spaceRightOfPoint < pullTooltipBy) {\n    pullTooltipBy -= pullTooltipBy - spaceRightOfPoint;\n  }\n\n  // prevent small width fluctuations within 0.4px from\n  // changing the value below.\n  // This really helps for live to prevent the play\n  // progress time tooltip from jittering\n  pullTooltipBy = Math.round(pullTooltipBy);\n\n  this.el_.style.right = `-${pullTooltipBy}px`;\n  this.write(content);\n};","import videojs from 'video.js';\n\nimport './ProgressBarPadding.scss';\n\nconst Component = videojs.getComponent('Component');\n\nclass ProgressBarPadding extends Component {\n\n  // The constructor of a component receives two arguments: the\n  // player it will be associated with and an object of options.\n  constructor(player, options = {}) {\n\n    // It is important to invoke the superclass before anything else,\n    // to get all the features of components out of the box!\n    super(player, options);\n  }\n\n  // The `createEl` function of a component creates its DOM element.\n  createEl() {\n    return videojs.dom.createEl('div', {\n\n      // Prefixing classes of elements within a player with \"vjs-\"\n      // is a convention used in Video.js.\n      className: 'vjs-progress-bar-padding'\n    });\n  }\n}\n\nvideojs.registerComponent('ProgressBarPadding', ProgressBarPadding);\n\nvideojs.getComponent('seekBar').prototype.options_.children.push('ProgressBarPadding');\n","/**\n * Keep a number between a min and a max value\n * \n * https://github.com/videojs/video.js/blob/4238f5c1d88890547153e7e1de7bd0d1d8e0b236/src/js/utils/clamp.js#L1-L19\n *\n * @param {number} number\n *        The number to clamp\n *\n * @param {number} min\n *        The minimum value\n * @param {number} max\n *        The maximum value\n *\n * @return {number}\n *         the clamped number\n */\nconst clamp = function (number, min, max) {\n    number = Number(number);\n\n    return Math.min(max, Math.max(min, isNaN(number) ? min : number));\n};\n\nexport default clamp;\n","import videojs from 'video.js';\n\nimport './TimeTooltip';\nimport './ProgressBarPadding';\n\nimport './Progress.scss';\nimport clamp from '../../../Utils/Clamp';\n\nconst Dom = videojs.dom;\nconst SeekBar = videojs.getComponent('SeekBar');\n\n/**\n * Update time display position\n * \n * Call this function with:\n *   updateTimeDisplay.apply(this, arguments);\n */\nconst updateTimeDisplay = function(event) {\n  // https://github.com/videojs/video.js/blob/4238f5c1d88890547153e7e1de7bd0d1d8e0b236/src/js/control-bar/progress-control/progress-control.js#L51-L91\n\n  const mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n  const seekBarEl = this.el();\n  const seekBarRect = Dom.getBoundingClientRect(seekBarEl);\n  let seekBarPoint = Dom.getPointerPosition(seekBarEl, event).x;\n\n  // The default skin has a gap on either side of the `SeekBar` (this). This means\n  // that it's possible to trigger this behavior outside the boundaries of\n  // the `SeekBar` (this). This ensures we stay within it at all times.\n  seekBarPoint = clamp(seekBarPoint, 0, 1);\n\n  if (mouseTimeDisplay) {\n    // https://github.com/videojs/video.js/blob/4238f5c1d88890547153e7e1de7bd0d1d8e0b236/src/js/control-bar/progress-control/mouse-time-display.js#L45-L63\n    mouseTimeDisplay.update(seekBarRect, seekBarPoint);\n  }\n}\n\n// Always added MouseTimeDisplay tooltips to a player\n// Ref: https://github.com/videojs/video.js/blob/df927de320998e161272d52235df85982ae86c6f/src/js/control-bar/progress-control/seek-bar.js#L509-L512\nif (!SeekBar.prototype.options_.children.includes('mouseTimeDisplay')) {\n  SeekBar.prototype.options_.children.splice(1, 0, 'mouseTimeDisplay');\n}\n\n// getPercent and handleMouseMove patches from:\n//   https://github.com/videojs/video.js/issues/4460#issuecomment-312861657\n\nSeekBar.prototype.getPercent = function getPercent() {\n  const time = this.player_.currentTime();\n  const percent = time / this.player_.getDuration().value();\n\n  return percent >= 1 ? 1 : percent;\n};\n\nSeekBar.prototype.handleMouseMove = function handleMouseMove(event) {\n  const player = this.player_;\n\n  updateTimeDisplay.apply(this, arguments);\n\n  // if (!videojs.dom.isSingleLeftClick(event) || isAdPlaying(player)) {\n  if (!videojs.dom.isSingleLeftClick(event)) {\n    return;\n  }\n\n  let newTime = this.calculateDistance(event) * player.getDuration().value();\n\n  if (newTime === player.getDuration().value()) {\n    newTime = newTime - 0.1;\n  }\n\n  player.currentTime(newTime);\n\n  this.update();\n};\n","import videojs from 'video.js';\nimport './ControlBar.Mobile';\n\nimport './Progress/Progress';\nimport './ControlBar.scss';\n\nvideojs.getComponent('ControlBar').prototype.options_.children = [\n  'PlayToggle',\n  'CustomControlSpacer',\n  'VolumePanel',\n  'CurrentTimeDisplay',\n  'TimeDivider',\n  'DurationDisplay',\n  'ProgressControl',\n  'CustomControlSpacer',\n  'SettingMenuButton',\n  'FullscreenToggle'\n];\n\nvideojs.hook('setup', vjsPlayer => {\n  vjsPlayer.on('mouseleave', function () {\n    vjsPlayer.userActive(false);\n  });\n\n  vjsPlayer.ready(function () {\n    vjsPlayer.controls(vjsPlayer.options_.controls !== false);\n  });\n});\n","import videojs from 'video.js';\n\nimport './Title.scss';\n\nclass Title extends videojs.getComponent('Component') {\n  constructor(player, options) {\n    super(player, options);\n\n    this.title_ = options.playerOptions.title || '';\n\n    this.update(this.title_);\n  }\n\n  createEl() {\n    const el = super.createEl('div', {\n      className: 'vjs-title'\n    });\n\n    this.contentEl_ = videojs.dom.createEl('div', {\n      className: 'vjs-title-field'\n    });\n\n    el.appendChild(this.contentEl_);\n\n    return el;\n  }\n\n  update(title_) {\n    if (!title_) {\n      this.hide();\n    } else {\n      this.show();\n    }\n\n    this.player_.cache_.title = this.title_;\n    this.title_ = title_;\n\n    this.contentEl_.innerHTML = title_;\n  }\n}\n\nconst title = function (title_) {\n  const videoTitle = this.player_.getChild('VideoTitle');\n\n  if (typeof title_ === 'undefined') {\n    return videoTitle.title_;\n  }\n\n  videoTitle.update(title_);\n};\n\nvideojs.registerPlugin('title', title);\nvideojs.registerComponent('VideoTitle', Title);\n\nvideojs\n  .getComponent('Player')\n  .prototype.options_.children.splice(2, 0, 'VideoTitle');\n","import videojs from 'video.js';\nimport './PlayToggleLayer.scss';\n\nconst PlayToggleButton = videojs.getComponent('PlayToggle');\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass PlayToggleLayer extends ClickableComponent {\n  createEl() {\n    return videojs.dom.createEl('div', {\n      className: 'vjs-play-toggle-layer'\n    });\n  }\n\n  handleClick(evt) {\n    if (this.player_.userActive() || this.player_.paused()) {\n      PlayToggleButton.prototype.handleClick.call(this, evt);\n    }\n  }\n}\n\nvideojs.registerComponent('PlayToggleLayer', PlayToggleLayer);\n\nconst playerChildren = videojs.getComponent('Player').prototype.options_\n  .children;\nconst loadSpinnerIndex = playerChildren.indexOf('loadingSpinner');\n\nplayerChildren.splice(loadSpinnerIndex, 0, 'PlayToggleLayer');\n","import videojs from 'video.js';\n\nconst MenuItem = videojs.getComponent('MenuItem');\n\nclass ContextMenuItem extends MenuItem {\n  constructor(player, options) {\n    super(player, {\n      ...options,\n      selectable: true\n    });\n\n    this.addClass('vjs-context-menu-item');\n\n    this.controlText(options.label);\n  }\n\n  createEl(...args) {\n    const el = super.createEl(...args);\n\n    el.insertAdjacentHTML(\n      'afterbegin',\n      `<span aria-hidden=\"true\" class=\"vjs-icon-placeholder ${\n        this.options_.icon || ''\n      }\"></span>`\n    );\n\n    return el;\n  }\n\n  handleClick() {\n    const { component: ContextMenu } = this.player_.findChild('ContextMenu')[0];\n\n    ContextMenu.hide();\n  }\n}\n\nvideojs.registerComponent('ContextMenuItem', ContextMenuItem);\n\nexport default ContextMenuItem;\n","import videojs from 'video.js';\nimport ContextMenuItem from './ContextMenuItem.js';\n\nclass ContextMenuToggleLoop extends ContextMenuItem {\n  constructor(player) {\n    super(player, {\n      name: 'ContextMenuToggleLoop',\n      label: 'Loop',\n      icon: 'vjs-icon-loop'\n    });\n\n    this.addClass('vjs-checkbox');\n\n    player.on('loadstart', this.update.bind(this));\n  }\n\n  update() {\n    this.selected(this.player_.loop());\n  }\n\n  handleClick() {\n    super.handleClick();\n\n    this.player_.loop(!this.player_.loop());\n\n    this.update();\n  }\n}\n\nvideojs.registerComponent('ContextMenuToggleLoop', ContextMenuToggleLoop);\n\nexport default ContextMenuToggleLoop;\n","import videojs from 'video.js';\nimport ContextMenuItem from './ContextMenuItem.js';\n\nclass AboutThisPlayer extends ContextMenuItem {\n  constructor(player) {\n    super(player, {\n      name: 'AboutThisPlayer',\n      label: 'About This Player',\n      icon: 'vjs-icon-github'\n    });\n  }\n\n  handleClick() {\n    super.handleClick();\n\n    window.open('https://github.com/paidless/videojs-plus-plus', '_blank');\n  }\n}\n\nvideojs.registerComponent('AboutThisPlayer', AboutThisPlayer);\n\nexport default AboutThisPlayer;\n","import videojs from 'video.js';\n\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\n// for mobile view\nclass CloseContextMenu extends ClickableComponent {\n  buildCSSClass() {\n    return 'vjs-close-menu-layer vjs-close-context-menu';\n  }\n\n  handleClick() {\n    this.options_.menu.hide();\n  }\n}\n\nvideojs.registerComponent('CloseContextMenu', CloseContextMenu);\n\nexport default CloseContextMenu;\n","import videojs from 'video.js';\n\nimport './ContextMenu.scss';\nimport './Item/ContextMenuToggleLoop.js';\nimport './Item/AboutThisPlayer.js';\n\nimport CloseContextMenu from './CloseContextMenu';\n\nconst Menu = videojs.getComponent('Menu');\n\nclass ContextMenu extends Menu {\n  constructor(player, options) {\n    super(player, options);\n\n    this.addClass('vjs-context-menu');\n\n    this.hide();\n\n    this.player_.on('contextmenu', this.onContextmenu.bind(this));\n  }\n\n  createEl(...args) {\n    const el = super.createEl(...args);\n\n    const layer = new CloseContextMenu(this.player_, {\n      menu: this\n    });\n\n    el.insertBefore(layer.el_, el.firstElementChild);\n\n    return el;\n  }\n\n  show(x, y) {\n    super.show();\n\n    this.el_.append.style.width = '';\n    this.el_.append.style.height = '';\n    this.el_.style.width = '';\n    this.el_.style.height = '';\n\n    const rect = this.player_.el().getBoundingClientRect();\n    const { width, height } = this.el_.getBoundingClientRect();\n\n    const posX = rect.width - width;\n    const posY = rect.height - height;\n\n    let calcX = 0;\n    let calcY = 0;\n\n    if (x > posX) {\n      calcX = (x - posX) * -1;\n    }\n\n    if (y > posY) {\n      calcY = (y - posY) * -1;\n    }\n\n    const marginTop = calcY;\n    const marginLeft = calcX;\n\n    this.el_.style.top = y + 'px';\n    this.el_.style.left = x + 'px';\n    this.el_.style.marginTop = marginTop + 'px';\n    this.el_.style.marginLeft = marginLeft + 'px';\n\n    this.el_.append.style.width = width + 'px';\n    this.el_.append.style.height = height + 'px';\n    this.el_.style.width = width + 'px';\n    this.el_.style.height = height + 'px';\n  }\n\n  onContextmenu(event) {\n    event.preventDefault();\n\n    const rect = this.player_.el().getBoundingClientRect();\n    const { clientX, clientY } = event;\n\n    if (\n      clientY > rect.y &&\n      clientY - rect.height < rect.y &&\n      clientX > rect.x &&\n      clientX - rect.width < rect.x\n    ) {\n      const x = clientX - rect.x;\n      const y = clientY - rect.y;\n\n      this.show(x, y);\n    } else {\n      this.hide();\n    }\n  }\n\n  handleClick(evt) {\n    if (evt.button || evt.button === 0) {\n      if (evt.button !== 2) {\n        this.hide();\n      }\n    }\n  }\n}\n\nContextMenu.prototype.options_ = {\n  children: ['ContextMenuToggleLoop', 'AboutThisPlayer']\n};\n\nvideojs.registerComponent('ContextMenu', ContextMenu);\n\nvideojs.getComponent('Player').prototype.options_.children.push('ContextMenu');\n","import videojs from 'video.js';\n\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass CloseSettingMenu extends ClickableComponent {\n  buildCSSClass() {\n    return 'vjs-close-menu-layer vjs-close-setting-menu';\n  }\n\n  handleClick() {\n    this.options_.menu.menuButton_.hideMenu();\n  }\n}\n\nvideojs.registerComponent('CloseSettingMenu', CloseSettingMenu);\n\nexport default CloseSettingMenu;\n","import videojs from 'video.js';\n\nimport CloseSettingMenu from './CloseSettingMenu';\n\nconst Menu = videojs.getComponent('Menu');\n\nclass SettingMenu extends Menu {\n  constructor(player, options) {\n    super(player, {\n      ...options,\n      name: 'SettingMenu'\n    });\n\n    this.addClass('vjs-setting-menu');\n  }\n\n  init() {\n    if (!this.contentEl_) {\n      return;\n    }\n\n    this.mainMenuItems = this.children().slice(0);\n\n    this.transform(this.mainMenuItems);\n\n    /**\n     *  Since the width of setting menu depends on screen width.\n     *  If player is initialized on small screen size then resize to a bigger screen,\n     *  the width of setting menu will be too wide as the origin width is affected by css,\n     *  A class `vjs-setting-menu-ready` as a condition for css on small screen,\n     *  therefore the origin width will not be affected.\n     */\n    this.addClass('vjs-setting-menu-ready');\n  }\n\n  createEl() {\n    const el = super.createEl();\n    const layer = new CloseSettingMenu(this.player_, {\n      menu: this\n    });\n\n    el.insertBefore(layer.el_, el.firstElementChild);\n\n    return el;\n  }\n\n  update(children = []) {\n    const children_ = this.children().slice(0);\n\n    children_.forEach(child => {\n      this.removeChild(child);\n    });\n\n    children.forEach(child => {\n      this.addChild(child);\n    });\n  }\n\n  resize({ width, height }) {\n    this.contentEl_.style.width = width + 'px';\n    this.contentEl_.style.height = height + 'px';\n  }\n\n  getMenuDimension(items) {\n    const player = this.player_;\n    const tempMenu = new SettingMenuTemp(player);\n\n    tempMenu.update(items);\n    player.addChild(tempMenu);\n\n    const rect = tempMenu.contentEl_.getBoundingClientRect();\n\n    // remove subMenuItem form tempMenu first, otherwise they will also be disposed\n    tempMenu.update();\n    tempMenu.dispose();\n\n    // remove tempMenu in `player.children`\n    player.removeChild(tempMenu);\n\n    return rect;\n  }\n\n  transform(items) {\n    const dimensions = this.getMenuDimension(items);\n    this.update(items);\n    this.resize(dimensions);\n  }\n\n  restore() {\n    this.transform(this.mainMenuItems);\n  }\n\n  animate(operation, direction = 'in') {\n    const menuContent = this.contentEl_;\n    const animations = {\n      in: {\n        old: [\n          { opacity: 1, translate: '0 0' },\n          { opacity: 0, translate: '-100% 0' }\n        ],\n        new: [\n          { opacity: 0, translate: '100% 0' },\n          { opacity: 1, translate: '0 0' }\n        ]\n      },\n      out: {\n        old: [\n          { opacity: 1, translate: '0 0' },\n          { opacity: 0, translate: '100% 0' }\n        ],\n        new: [\n          { opacity: 0, translate: '-100% 0' },\n          { opacity: 1, translate: '0 0' }\n        ]\n      }\n    };\n    const clonedMenuContent = menuContent.cloneNode(true); // DOM operation\n\n    // For animation purpose\n    clonedMenuContent.style.position = 'absolute';\n    clonedMenuContent.style.bottom = '0';\n    clonedMenuContent.style.right = '0';\n    clonedMenuContent.style.pointerEvents = 'none';\n    clonedMenuContent.style.backgroundColor = 'transparent';\n\n    this.el().appendChild(clonedMenuContent); // DOM operation\n\n    this.addClass('vjs-setting-menu-animating');\n\n    const oldAnimations = Array.from(clonedMenuContent.children).map(e =>\n      e.animate(animations[direction].old, {\n        duration: 200, easing: 'cubic-bezier(0.4, 0, 0.2, 1)', fill: 'forwards'\n      })\n    );\n\n    Promise.all(oldAnimations.map(a => a.finished)).then(() => {\n      clonedMenuContent.remove(); // DOM operation\n    });\n\n    // Update menu content\n    operation();\n\n    // Animate new menu content\n    const newMenuContent = this.contentEl_;\n\n    const newAnimations = Array.from(newMenuContent.children).map(e =>\n      e.animate(animations[direction].new, {\n        duration: 250, easing: 'cubic-bezier(0.4, 0, 0.2, 1)'\n      })\n    );\n\n    Promise.all(newAnimations.map(a => a.finished)).then(() => {\n      this.removeClass('vjs-setting-menu-animating');\n    });\n  }\n\n  removeStyle() {\n    this.contentEl_.removeAttribute('style');\n  }\n\n  hide() {\n    // Disable default hide function\n    // As the default hide function violate the calculation of menu dimension\n  }\n}\n\nclass SettingMenuTemp extends SettingMenu {\n  constructor(player) {\n    super(player, {\n      name: 'SettingMenuTemp'\n    });\n\n    this.addClass('vjs-setting-menu-temp');\n  }\n}\n\nvideojs.registerComponent('SettingMenu', SettingMenu);\n\nexport default SettingMenu;\n","import videojs from 'video.js';\n\nconst MenuItem = videojs.getComponent('MenuItem');\n\nclass SettingMenuItem extends MenuItem {\n  constructor(player, options) {\n    super(\n      player,\n      videojs.mergeOptions(\n        {\n          selectable: false\n        },\n        options\n      )\n    );\n\n    this.menu = options.menu;\n  }\n}\n\nvideojs.registerComponent('SettingMenuItem', SettingMenuItem);\n\nexport default SettingMenuItem;\n","import videojs from 'video.js';\nimport SettingMenuItem from './SettingMenuItem.js';\n\nclass SettingOnOffItem extends SettingMenuItem {\n  createEl() {\n    const options = this.options_;\n    const el = videojs.dom.createEl('li', {\n      className: 'vjs-menu-item vjs-setting-onoff-item',\n      innerHTML: `\n        <div class=\"vjs-icon-placeholder ${this.options_.icon || ''}\"></div>\n        <div>${this.localize(options.label)}</div>\n        <div class=\"vjs-spacer\"></div>\n        <div>\n          <div class=\"vjs-onoff-button\"></div>\n        </div>\n      `\n    });\n\n    return el;\n  }\n\n  update(active) {\n    this.active = typeof active === 'undefined' ? !this.active : active;\n\n    if (this.active) {\n      this.addClass('vjs-active');\n    } else {\n      this.removeClass('vjs-active');\n    }\n  }\n\n  handleClick() {\n    this.update();\n  }\n\n  selected() {}\n}\n\nvideojs.registerComponent('SettingOnOffItem', SettingOnOffItem);\n\nexport default SettingOnOffItem;\n","import videojs from 'video.js';\n\nimport SettingMenuItem from './SettingMenuItem.js';\n\nclass SettingSubOptionTitle extends SettingMenuItem {\n  constructor(player, options) {\n    super(player, options);\n\n    this.el_.insertAdjacentElement('afterbegin', videojs.dom.createEl('div'));\n    this.addClass('vjs-settings-sub-menu-item');\n    this.addClass('vjs-settings-sub-menu-title');\n  }\n\n  handleClick() {\n    this.options_.menu.animate(() => {\n      this.options_.menu.restore();\n    }, 'out');\n  }\n}\n\nvideojs.registerComponent('SettingSubOptionTitle', SettingSubOptionTitle);\n\nexport default SettingSubOptionTitle;\n","import videojs from 'video.js';\n\nimport SettingMenuItem from './SettingMenuItem.js';\n\nclass SettingSubOptionItem extends SettingMenuItem {\n  constructor(player, options) {\n    super(player, options);\n\n    this.selectable = true;\n\n    // FIXME: should be remove\n    Object.assign(this, options);\n\n    this.el_.insertAdjacentElement('afterbegin', videojs.dom.createEl('div'));\n    this.addClass('vjs-settings-sub-menu-item');\n    this.addClass('vjs-settings-sub-menu-option');\n\n    this.update();\n  }\n\n  update() {\n    this.selected(this.value === this.parent.selected.value);\n  }\n\n  handleClick() {\n    this.parent.onChange({ index: this.options_.index });\n    this.menu.animate(() => {\n      this.menu.restore();\n    }, 'out');\n  }\n}\n\nvideojs.registerComponent('SettingSubOptionItem', SettingSubOptionItem);\n\nexport default SettingSubOptionItem;\n","import videojs from 'video.js';\n\nimport SettingMenuItem from './SettingMenuItem.js';\nimport SettingSubOptionTitle from './SettingSubOptionTitle.js';\nimport SettingSubOptionItem from './SettingSubOptionItem.js';\n\n/**\n * @param {Array<Object|number|string>} entries\n */\nfunction parseEntries(entries, selectedIndex) {\n  entries = entries.map((data, index) => {\n    if (data !== null && typeof data !== 'object') {\n      data = {\n        value: data,\n        label: data\n      };\n    }\n\n    let isDefault = false;\n    if (typeof selectedIndex === 'undefined' && data.default === true) {\n      isDefault = true;\n      selectedIndex = index;\n    }\n\n    return {\n      ...data,\n      index,\n      default: isDefault\n    };\n  });\n\n  return {\n    entries,\n    selected: entries[selectedIndex || 0]\n  };\n}\n\nclass SettingOptionItem extends SettingMenuItem {\n  constructor(player, options = {}) {\n    super(player, options);\n\n    this.setEntries(this.options_.entries);\n\n    if (!this.entries.length) {\n      this.hide();\n    }\n  }\n\n  createEl() {\n    const { icon, label } = this.options_;\n    const el = videojs.dom.createEl('li', {\n      className: 'vjs-menu-item vjs-setting-menu-item',\n      innerHTML: `\n        <div class=\"vjs-icon-placeholder ${icon || ''}\"></div>\n        <div class=\"vjs-setting-menu-label\">${this.localize(label)}</div>\n        <div class=\"vjs-spacer\"></div>\n      `\n    });\n\n    this.selectedValueEl = videojs.dom.createEl('div', {\n      className: 'vjs-setting-menu-value'\n    });\n\n    el.appendChild(this.selectedValueEl);\n\n    return el;\n  }\n\n  setEntries(entries_ = [], selectedIndex) {\n    Object.assign(this, parseEntries(entries_, selectedIndex));\n\n    this.updateSelectedValue();\n\n    const SubOptionItem =\n      videojs.getComponent(`${this.name_}Child`) || SettingSubOptionItem;\n\n    this.subMenuItems = [\n      new SettingSubOptionTitle(this.player_, {\n        label: this.options_.label,\n        menu: this.menu\n      }),\n      ...this.entries.map(({ label, value }, index) => {\n        return new SubOptionItem(this.player_, {\n          index,\n          label,\n          value,\n          parent: this,\n          menu: this.menu\n        });\n      })\n    ];\n  }\n\n  handleClick() {\n    this.menu.animate(() => {\n      this.menu.transform(this.subMenuItems);\n    }, 'in');\n  }\n\n  select(index) {\n    this.selected = this.entries[index];\n    this.updateSelectedValue();\n  }\n\n  update() {\n    this.subMenuItems.forEach(item => {\n      item.update && item.update();\n    });\n  }\n\n  onChange({ index }) {\n    this.select(index);\n    this.update(index);\n  }\n\n  updateSelectedValue() {\n    if (this.selected) {\n      this.selectedValueEl.innerHTML = this.localize(this.selected.label);\n    }\n  }\n}\n\nvideojs.registerComponent('SettingOptionItem', SettingOptionItem);\n\nexport default SettingOptionItem;\n","import videojs from 'video.js';\n\nlet logType = '';\n\ntry {\n  logType = localStorage && localStorage.getItem('vjs-plus-log');\n} catch (e) {}\n\nconst log = (function () {\n  if (logType === 'normal' || videojs.browser.IE_VERSION) {\n    // log without style\n    return console.info.bind(console, '[VJS Plus]:');\n  } else if (logType) {\n    // log with style\n    return console.info.bind(\n      console,\n      '%c[VJS Plus]:',\n      'font-weight: bold; color:#2196F3;'\n    );\n  }\n\n  return function () {};\n})();\n\nexport default log;\n","import videojs from 'video.js';\nimport SettingOptionItem from '../Item/SettingOptionItem.js';\nimport log from '../../../Utils/Log';\n\nclass PlaybackRateSettingItem extends SettingOptionItem {\n  constructor(player, options) {\n    super(player, {\n      ...options,\n      label: 'Speed',\n      icon: 'vjs-icon-slow-motion-video',\n      entries: [\n        0.25,\n        0.5,\n        0.75,\n        {\n          label: 'Normal',\n          value: 1,\n          default: true\n        },\n        1.25,\n        1.5,\n        1.75,\n        2\n      ]\n    });\n\n    this.addClass('vjs-setting-playback-rate');\n\n    // Since playback rate will be reset to noraml when video source changed\n    // So we need to listen on `ratechange`\n    player.on('ratechange', () => {\n      const rate = player.playbackRate();\n      const index = this.entries.findIndex(({ value }) => rate === value);\n\n      if (index > -1) {\n        this.select(index);\n        this.update(index);\n      } else {\n        log.warn('Incorrect playbackRate value, setting menu will not updated');\n      }\n    });\n  }\n\n  onChange(...args) {\n    super.onChange(...args);\n    this.player_.playbackRate(this.selected.value);\n  }\n}\n\nvideojs.registerComponent('PlaybackRateSettingItem', PlaybackRateSettingItem);\n\nexport default PlaybackRateSettingItem;\n","import videojs from 'video.js';\nimport SettingMenu from './SettingMenu.js';\n\nimport './Item/SettingOnOffItem';\nimport './Item/SettingOptionItem.js';\nimport './PlaybackRate/PlaybackRateSettingItem.js';\nimport './Setting.scss';\n\nconst MenuButton = videojs.getComponent('MenuButton');\n\nclass SettingMenuButton extends MenuButton {\n  constructor(player, options) {\n    super(player, options);\n\n    // move menu to player\n    player.addChild(this.menu);\n    player.SettingMenu = this.menu;\n\n    // remove videojs parent child relationship between button and menu\n    this.removeChild(this.menu);\n  }\n\n  buildCSSClass() {\n    return `vjs-setting-button ${super.buildCSSClass()}`;\n  }\n\n  buildWrapperCSSClass() {\n    return `vjs-setting-button ${super.buildWrapperCSSClass()}`;\n  }\n\n  createMenu() {\n    const menu = new SettingMenu(this.player_, {\n      menuButton: this\n    });\n    const entries = this.options_.entries || [];\n\n    entries.forEach(componentName => {\n      const component = menu.addChild(componentName, {\n        menu\n      });\n      menu[componentName] = component;\n    });\n\n    return menu;\n  }\n\n  hideMenu() {\n    this.unpressButton();\n    this.el_.blur();\n  }\n\n  pressButton() {\n    super.pressButton();\n\n    this.menu.init();\n  }\n\n  unpressButton() {\n    super.unpressButton();\n\n    this.player_.removeClass('vjs-keep-control-showing');\n\n    this.menu.restore();\n  }\n\n  handleClick() {\n    this.player_.addClass('vjs-keep-control-showing');\n\n    if (this.buttonPressed_) {\n      this.unpressButton();\n    } else {\n      this.pressButton();\n    }\n\n    this.off(document.body, 'click', this.hideMenu);\n    // this.off(document.body, 'touchend', this.hideMenu);\n\n    setTimeout(() => {\n      this.one(document.body, 'click', this.hideMenu);\n      // _this.buttonPressed_ && _this.one(document.body, 'touchend', _this.hideMenu);\n    }, 0);\n  }\n}\n\nSettingMenuButton.prototype.controlText_ = 'Settings';\nSettingMenuButton.prototype.options_ = {\n  entries: ['PlaybackRateSettingItem']\n};\n\nvideojs.registerComponent('SettingMenuButton', SettingMenuButton);\n\nexport default SettingMenuButton;\n"],"names":["findChild","parent","name","result","children","childIndex_","Object","keys","length","componentId","component","name_","push","index","children_","indexOf","videojs","getComponent","prototype","getDuration","player","options","value","duration","Infinity","liveTracker","liveCurrentTime","getPlugin","registerPlugin","browser","IS_IPHONE","IOS_VERSION","hook","vjsPlayer","playsinline","options_","addClass","Component","ControlBar","ControlSeparator","className","registerComponent","_","slice","splice","enableMobileView","mobileView","matchDimension","window","matchMedia","matches","innerWidth","controlBar","hide","one","events","callback","off","show","userActive","Dom","dom","TimeTooltip","update","seekBarRect","seekBarPoint","content","tooltipRect","getBoundingClientRect","el_","playerRect","player_","el","seekBarPointPx","width","spaceRightOfPoint","spaceLeftOfPoint","pullTooltipBy","centerPosition","centerOffsetOfPoint","Math","round","style","right","write","ProgressBarPadding","createEl","clamp","number","min","max","Number","isNaN","SeekBar","updateTimeDisplay","event","mouseTimeDisplay","getChild","seekBarEl","getPointerPosition","x","includes","getPercent","time","currentTime","percent","handleMouseMove","apply","arguments","isSingleLeftClick","newTime","calculateDistance","on","ready","controls","Title","title_","playerOptions","title","contentEl_","appendChild","cache_","innerHTML","videoTitle","PlayToggleButton","ClickableComponent","PlayToggleLayer","handleClick","evt","paused","call","playerChildren","loadSpinnerIndex","MenuItem","ContextMenuItem","selectable","controlText","label","args","insertAdjacentHTML","icon","ContextMenu","ContextMenuToggleLoop","bind","selected","loop","AboutThisPlayer","open","CloseContextMenu","buildCSSClass","menu","Menu","onContextmenu","layer","insertBefore","firstElementChild","y","append","height","rect","posX","posY","calcX","calcY","marginTop","marginLeft","top","left","preventDefault","clientX","clientY","button","CloseSettingMenu","menuButton_","hideMenu","SettingMenu","init","mainMenuItems","transform","forEach","child","removeChild","addChild","resize","getMenuDimension","items","tempMenu","SettingMenuTemp","dispose","dimensions","restore","animate","operation","direction","menuContent","animations","old","opacity","translate","out","clonedMenuContent","cloneNode","position","bottom","pointerEvents","backgroundColor","oldAnimations","Array","from","map","e","easing","fill","Promise","all","a","finished","then","remove","newMenuContent","newAnimations","removeClass","removeStyle","removeAttribute","SettingMenuItem","mergeOptions","SettingOnOffItem","localize","active","SettingSubOptionTitle","insertAdjacentElement","SettingSubOptionItem","assign","onChange","parseEntries","entries","selectedIndex","data","isDefault","SettingOptionItem","setEntries","selectedValueEl","entries_","updateSelectedValue","SubOptionItem","subMenuItems","select","item","logType","localStorage","getItem","log","IE_VERSION","console","info","PlaybackRateSettingItem","rate","playbackRate","findIndex","warn","MenuButton","SettingMenuButton","buildWrapperCSSClass","createMenu","menuButton","componentName","unpressButton","blur","pressButton","buttonPressed_","document","body","setTimeout","controlText_"],"mappings":"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"}