{"version":3,"file":"index.js","sources":["../../../source/Plugin/Unload/Unload.js"],"sourcesContent":["import videojs from 'video.js';\n\nlet unloaded = false;\n\nfunction middleware(player) {\n  return {\n    callPlay() {\n      return unloaded && videojs.middleware.TERMINATOR;\n    }\n  };\n}\n\nfunction reset() {\n  unloaded = false;\n  this.tech_.show();\n}\n\nfunction unload(options = {}) {\n  unloaded = true;\n\n  this.pause();\n  this.tech_.hide();\n  this.off('loadstart', reset);\n  this.on('loadstart', reset);\n\n  if (options.loading) {\n    this.addClass('vjs-seeking');\n  }\n}\n\nvideojs.use('*', middleware);\nvideojs.registerPlugin('unload', unload);\n"],"names":["unloaded","middleware","player","callPlay","videojs","TERMINATOR","reset","tech_","show","unload","options","pause","hide","off","on","loading","addClass","use","registerPlugin"],"mappings":";;;;;;;;;;;;EAEA,IAAIA,QAAQ,GAAG,KAAf,CAAA;;EAEA,SAASC,UAAT,CAAoBC,MAApB,EAA4B;EAC1B,EAAO,OAAA;EACLC,IAAAA,QADK,EACM,SAAA,QAAA,GAAA;EACT,MAAA,OAAOH,QAAQ,IAAII,2BAAO,CAACH,UAAR,CAAmBI,UAAtC,CAAA;EACD,KAAA;EAHI,GAAP,CAAA;EAKD,CAAA;;EAED,SAASC,KAAT,GAAiB;EACfN,EAAAA,QAAQ,GAAG,KAAX,CAAA;EACA,EAAKO,IAAAA,CAAAA,KAAL,CAAWC,IAAX,EAAA,CAAA;EACD,CAAA;;EAED,SAASC,MAAT,CAAgBC,OAAhB,EAA8B;EAAA,EAAA,IAAdA,OAAc,KAAA,KAAA,CAAA,EAAA;EAAdA,IAAAA,OAAc,GAAJ,EAAI,CAAA;EAAA,GAAA;;EAC5BV,EAAAA,QAAQ,GAAG,IAAX,CAAA;EAEA,EAAA,IAAA,CAAKW,KAAL,EAAA,CAAA;EACA,EAAKJ,IAAAA,CAAAA,KAAL,CAAWK,IAAX,EAAA,CAAA;EACA,EAAA,IAAA,CAAKC,GAAL,CAAS,WAAT,EAAsBP,KAAtB,CAAA,CAAA;EACA,EAAA,IAAA,CAAKQ,EAAL,CAAQ,WAAR,EAAqBR,KAArB,CAAA,CAAA;;EAEA,EAAII,IAAAA,OAAO,CAACK,OAAZ,EAAqB;EACnB,IAAKC,IAAAA,CAAAA,QAAL,CAAc,aAAd,CAAA,CAAA;EACD,GAAA;EACF,CAAA;;AAEDZ,6BAAO,CAACa,GAAR,CAAY,GAAZ,EAAiBhB,UAAjB,CAAA,CAAA;AACAG,6BAAO,CAACc,cAAR,CAAuB,QAAvB,EAAiCT,MAAjC,CAAA;;;;;;"}