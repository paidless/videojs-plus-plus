{"version":3,"file":"index.js","sources":["../../../source/Plugin/FullWindowToggle/FullWindowToggle.js"],"sourcesContent":["import videojs from 'video.js';\n\nimport './FullWindowToggle.scss';\n\nclass FullWindowToggle extends videojs.getComponent('FullscreenToggle') {\n  constructor(player, options) {\n    super(player, options);\n\n    player.requestFullscreen = player.enterFullWindow.bind(player);\n    player.enterFullScreen = player.enterFullWindow.bind(player);\n    player.exitFullscreen = player.exitFullWindow.bind(player);\n\n    player.isFullscreen = () => {\n      return !!player.isFullWindow;\n    };\n\n    player.on(['enterFullWindow', 'exitFullWindow'], function () {\n      player.toggleFullscreenClass_();\n      player.trigger('fullscreenchange');\n    });\n  }\n\n  handleClick() {\n    if (!this.player_.isFullWindow) {\n      this.player_.enterFullScreen();\n    } else {\n      this.player_.exitFullscreen();\n    }\n  }\n\n  // Since `FullWindowToggle` are extends from `FullscreenToggle`,\n  // disable function will be called if the browser does not support fullscreen API\n  // However, `FullWindowToggle` is assumed support in all platform. So the function should be override\n  disable(force) {\n    force && super.disable();\n  }\n}\n\nvideojs.registerComponent('FullWindowToggle', FullWindowToggle);\n\nconst controlBarChildren = videojs.getComponent('ControlBar').prototype.options_\n  .children;\nconst fullScreenButtonIndex = controlBarChildren.indexOf('FullscreenToggle');\n\ncontrolBarChildren[fullScreenButtonIndex] = 'FullWindowToggle';\n"],"names":["FullWindowToggle","player","options","requestFullscreen","enterFullWindow","bind","enterFullScreen","exitFullscreen","exitFullWindow","isFullscreen","isFullWindow","on","toggleFullscreenClass_","trigger","handleClick","player_","disable","force","videojs","getComponent","registerComponent","controlBarChildren","prototype","options_","children","fullScreenButtonIndex","indexOf"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;MAIMA;;;EACJ,EAAYC,SAAAA,gBAAAA,CAAAA,MAAZ,EAAoBC,OAApB,EAA6B;EAAA,IAAA,IAAA,KAAA,CAAA;;EAC3B,IAAMD,KAAAA,GAAAA,qBAAAA,CAAAA,IAAAA,CAAAA,IAAAA,EAAAA,MAAN,EAAcC,OAAd,CAAA,IAAA,IAAA,CAAA;EAEAD,IAAAA,MAAM,CAACE,iBAAP,GAA2BF,MAAM,CAACG,eAAP,CAAuBC,IAAvB,CAA4BJ,MAA5B,CAA3B,CAAA;EACAA,IAAAA,MAAM,CAACK,eAAP,GAAyBL,MAAM,CAACG,eAAP,CAAuBC,IAAvB,CAA4BJ,MAA5B,CAAzB,CAAA;EACAA,IAAAA,MAAM,CAACM,cAAP,GAAwBN,MAAM,CAACO,cAAP,CAAsBH,IAAtB,CAA2BJ,MAA3B,CAAxB,CAAA;;EAEAA,IAAAA,MAAM,CAACQ,YAAP,GAAsB,YAAM;EAC1B,MAAA,OAAO,CAAC,CAACR,MAAM,CAACS,YAAhB,CAAA;EACD,KAFD,CAAA;;EAIAT,IAAAA,MAAM,CAACU,EAAP,CAAU,CAAC,iBAAD,EAAoB,gBAApB,CAAV,EAAiD,YAAY;EAC3DV,MAAAA,MAAM,CAACW,sBAAP,EAAA,CAAA;EACAX,MAAAA,MAAM,CAACY,OAAP,CAAe,kBAAf,CAAA,CAAA;EACD,KAHD,CAAA,CAAA;EAX2B,IAAA,OAAA,KAAA,CAAA;EAe5B,GAAA;;;;EAEDC,EAAAA,MAAAA,CAAAA,cAAA,SAAc,WAAA,GAAA;EACZ,IAAA,IAAI,CAAC,IAAA,CAAKC,OAAL,CAAaL,YAAlB,EAAgC;EAC9B,MAAKK,IAAAA,CAAAA,OAAL,CAAaT,eAAb,EAAA,CAAA;EACD,KAFD,MAEO;EACL,MAAKS,IAAAA,CAAAA,OAAL,CAAaR,cAAb,EAAA,CAAA;EACD,KAAA;EACF;EAGD;EACA;;;WACAS,UAAA,SAAQC,OAAAA,CAAAA,KAAR,EAAe;EACbA,IAAAA,KAAK,IAAUD,qBAAAA,CAAAA,SAAAA,CAAAA,OAAV,CAAL,IAAA,CAAA,IAAA,CAAA,CAAA;EACD;;;EA/B4BE,CAAAA,CAAAA,2BAAO,CAACC,YAAR,CAAqB,kBAArB;;AAkC/BD,6BAAO,CAACE,iBAAR,CAA0B,kBAA1B,EAA8CpB,gBAA9C,CAAA,CAAA;EAEA,IAAMqB,kBAAkB,GAAGH,2BAAO,CAACC,YAAR,CAAqB,YAArB,CAAA,CAAmCG,SAAnC,CAA6CC,QAA7C,CACxBC,QADH,CAAA;EAEA,IAAMC,qBAAqB,GAAGJ,kBAAkB,CAACK,OAAnB,CAA2B,kBAA3B,CAA9B,CAAA;EAEAL,kBAAkB,CAACI,qBAAD,CAAlB,GAA4C,kBAA5C;;;;;;"}